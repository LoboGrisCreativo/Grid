form_focus=function(){var n=$('input[type="text"]'),e=$(this).attr("placeholder");n.each(function(){var n=($('input[type="text"]'),$(this).attr("placeholder"));$(this).val().length>0||void 0!==n?$(this).siblings(".label-label").addClass("floating-label"):$(this).siblings(".label-label").removeClass("floating-label")}),n.on("change",function(){0!==$(this).val().length||void 0!==e?$(this).siblings(".label-label").addClass("floating-label"):$(this).siblings(".label-label").removeClass("floating-label")}),n.on("focusin",function(){$(this).val().length>=0||void 0!==e?$(this).siblings(".label-label").addClass("floating-label"):$(this).siblings(".label-label").removeClass("floating-label")}),n.on("focusout",function(){0!==$(this).val().length?$(this).siblings(".label-label").addClass("floating-label"):void 0!==$(this).attr("placeholder")?$(this).siblings(".label-label").addClass("floating-label"):$(this).siblings(".label-label").removeClass("floating-label")})},form_focus(),header=function(){header_scroll=function(){$(window).scroll(function(){var n=$(window).scrollTop();n<this.beforeTop?$("header").slideDown(300):$("header").slideUp(300),this.beforeTop=n})},activeMenu=function(){$("header li").on("click",function(){$("header li").removeClass("active"),$(this).addClass("active")})},header_dropdown=function(){$("header a").click(function(){$(this).siblings(".dropdownMenu").slideToggle(300)}).on("focusout",function(){$(this).siblings(".dropdownMenu").fadeOut(300)}),$(document).keyup(function(n){27===n.keyCode&&$(".enlaces a").siblings(".dropdownMenu").hide()})},header_scroll(),header_dropdown(),activeMenu()},header(),init=function(){dropdownMenu(".header__nav__menuHeader__listItem__enlace"),slideMenu("#btn-menu"),scrollToTop(".scrollTop"),activeMenu(".header__nav__menuHeader__listItem"),acordeon(".acordeon-title",".acordeon-paragraph"),llamadaAjax(".li-item"),pegamento(".contentfixed")},headerFixed=function(n){var e="header_fixed";$(window).on("scroll",function(){$(window).scrollTop()>30?$(n).addClass(e):$(n).removeClass(e)})},pegamento=function(n){$(window).scroll(function(){var e=$(window).scrollTop();e>30?$(n).addClass("fixed"):$(n).removeClass("fixed")})},seguimiento=function(n,e){$(n).on("scrollSpy:enter",function(){var n="#"+$(this).attr("id");$(e).each(function(){var t=$(this).children("a"),o=t.attr("href");n==o&&($(e).removeClass("active"),$(this).addClass("active"))})}),$(n).on("scrollSpy:exit",function(){var n="#"+$(this).attr("id");$(e).each(function(){var e=$(this).children("a"),t=e.attr("href");n==t&&$(this).removeClass("active")})}),$(n).scrollSpy()},dropdownMenu=function(n){$(".header__nav__menuHeader__listItem__enlace");$(n).click(function(){$(this).siblings(".dropdownMenu").slideToggle(300)}).on("focusout",function(){$(this).siblings(".dropdownMenu").fadeOut(300)})},slideMenu=function(n,e){$(n).on("click",function(n){var e=$(".enlaces");$("body");e.toggleClass("open")}),$(e).on("click",function(){var n=$("#btn-menu");n.removeClass("open"),$("body").css({"padding-left":"0",transition:"all 0.3s"}),$('<div class="overlay"></div>').detach()})},scrollToTop=function(n){$(window).on("scroll",function(){$(window).scrollTop()>80?$(n).slideDown():$(n).slideUp()}),$(n).click(function(){$("body").animate({scrollTop:0},400)})},activeMenu=function(n){$(n).on("click",function(){$(n).removeClass("active"),$(this).addClass("active")})},acordeon=function(n,e){$(n).click(function(){$(this).siblings(e).slideToggle(100),$(this).parent().siblings().find(e).slideUp(),$(this).children().toggleClass("fa-chevron-down fa-chevron-up"),$(this).parent().siblings().find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")})},llamadaAjax=function(n){$(n).on("click",function(n){var e=$(this).data("href");$.ajax({url:e+".html",async:!0,dataType:"html",success:function(n){$(".content_container").html(n)},error:function(n){$(".content_container").html("<h4>Lo sentimos, se produjo un error</h4>")}})})},$(document).ready(function(){init()}),function(n){n.fn.pluginName=function(e){var t={foo:"bar"},o={},i={init:function(e){return this.each(function(){o=n.extend({},t,e);n(this)})},foo_public_method:function(){}};return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error('Method "'+e+'" does not exist in pluginName plugin!'):i.init.apply(this,arguments)}}(jQuery),function(n){function e(e,t,o,i){var l=n();return n.each(a,function(n,a){var s=a.offset().top,r=a.offset().left,c=r+a.width(),d=s+a.height(),u=!(r>t||c<i||s>o||d<e);u&&l.push(a)}),l}function t(){++c;var t=l.scrollTop(),o=l.scrollLeft(),i=o+l.width(),a=t+l.height(),r=e(t+d.top,i+d.right,a+d.bottom,o+d.left);n.each(r,function(n,e){var t=e.data("scrollSpy:ticks");"number"!=typeof t&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",c)}),n.each(s,function(n,e){var t=e.data("scrollSpy:ticks");"number"==typeof t&&t!==c&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),s=r}function o(){l.trigger("scrollSpy:winSize")}function i(n,e,t){var o,i,l,a=null,s=0;t||(t={});var r=function(){s=t.leading===!1?0:u(),a=null,l=n.apply(o,i),o=i=null};return function(){var c=u();s||t.leading!==!1||(s=c);var d=e-(c-s);return o=this,i=arguments,d<=0?(clearTimeout(a),a=null,s=c,l=n.apply(o,i),o=i=null):a||t.trailing===!1||(a=setTimeout(r,d)),l}}var l=n(window),a=[],s=[],r=!1,c=0,d={top:0,right:0,bottom:0,left:0},u=Date.now||function(){return(new Date).getTime()};n.scrollSpy=function(e,o){e=n(e),e.each(function(e,t){a.push(n(t))}),o=o||{throttle:100},d.top=o.offsetTop||0,d.right=o.offsetRight||0,d.bottom=o.offsetBottom||0,d.left=o.offsetLeft||0;var s=i(t,o.throttle||100),c=function(){n(document).ready(s)};return r||(l.on("scroll",c),l.on("resize",c),r=!0),setTimeout(c,0),e},n.winSizeSpy=function(e){return n.winSizeSpy=function(){return l},e=e||{throttle:100},l.on("resize",i(o,e.throttle||100))},n.fn.scrollSpy=function(e){return n.scrollSpy(n(this),e)}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hc3NldHMvanMvZm9ybXMuanMiLCIvYXNzZXRzL2pzL2hlYWRlci5qcyIsIi9hc3NldHMvanMvbWFpbi5qcyIsIi9hc3NldHMvanMvcGxhbnRpbGxhX3BsdWdpbl9qcXVlcnkuanMiLCIvYXNzZXRzL2pzL3Njcm9sbHNweS5qcyJdLCJuYW1lcyI6WyJmb3JtX2ZvY3VzIiwiaW5wdXQiLCIkIiwicGxhY2Vob2xkZXIiLCJ0aGlzIiwiYXR0ciIsImVhY2giLCJ2YWwiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzaWJsaW5ncyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvbiIsImhlYWRlciIsImhlYWRlcl9zY3JvbGwiLCJ3aW5kb3ciLCJzY3JvbGwiLCJjdXJyZW50VG9wIiwic2Nyb2xsVG9wIiwiYmVmb3JlVG9wIiwic2xpZGVEb3duIiwic2xpZGVVcCIsImFjdGl2ZU1lbnUiLCJoZWFkZXJfZHJvcGRvd24iLCJjbGljayIsInNsaWRlVG9nZ2xlIiwiZmFkZU91dCIsImRvY3VtZW50Iiwia2V5dXAiLCJlIiwia2V5Q29kZSIsImhpZGUiLCJpbml0IiwiZHJvcGRvd25NZW51Iiwic2xpZGVNZW51Iiwic2Nyb2xsVG9Ub3AiLCJhY29yZGVvbiIsImxsYW1hZGFBamF4IiwicGVnYW1lbnRvIiwiaGVhZGVyRml4ZWQiLCJlbGVtZW50IiwiVG9wIiwic2VndWltaWVudG8iLCJlbGVtZW50X2xpc3RhIiwiaWQiLCJlbmxhY2UiLCJjaGlsZHJlbiIsImhhc2giLCJzY3JvbGxTcHkiLCJlbGVtbmV0IiwiZXhpdCIsImV2ZW50Iiwic2xpZGVvdXRNZW51IiwidG9nZ2xlQ2xhc3MiLCJjc3MiLCJwYWRkaW5nLWxlZnQiLCJ0cmFuc2l0aW9uIiwiZGV0YWNoIiwiYW5pbWF0ZSIsImFjb3JkZW9uSGlqbyIsInBhcmVudCIsImZpbmQiLCJ1cmwiLCJkYXRhIiwiYWpheCIsImFzeW5jIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwiYSIsImh0bWwiLCJlcnJvciIsInJlYWR5IiwiZm4iLCJwbHVnaW5OYW1lIiwibWV0aG9kIiwiZGVmYXVsdHMiLCJmb28iLCJzZXR0aW5ncyIsIm1ldGhvZHMiLCJvcHRpb25zIiwiZXh0ZW5kIiwiZm9vX3B1YmxpY19tZXRob2QiLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwialF1ZXJ5IiwiZmluZEVsZW1lbnRzIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGl0cyIsImVsZW1lbnRzIiwiaSIsImVsVG9wIiwib2Zmc2V0IiwiZWxMZWZ0IiwiZWxSaWdodCIsIndpZHRoIiwiZWxCb3R0b20iLCJoZWlnaHQiLCJpc0ludGVyc2VjdCIsInB1c2giLCJvblNjcm9sbCIsInRpY2tzIiwialdpbmRvdyIsInNjcm9sbExlZnQiLCJpbnRlcnNlY3Rpb25zIiwibGFzdFRpY2siLCJ0cmlnZ2VySGFuZGxlciIsImVsZW1lbnRzSW5WaWV3Iiwib25XaW5TaXplIiwidHJpZ2dlciIsInRocm90dGxlIiwiZnVuYyIsIndhaXQiLCJjb250ZXh0IiwiYXJncyIsInJlc3VsdCIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsImdldFRpbWUiLCJub3ciLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsInNldFRpbWVvdXQiLCJpc1NweWluZyIsIkRhdGUiLCJzZWxlY3RvciIsIm9mZnNldFRvcCIsIm9mZnNldFJpZ2h0Iiwib2Zmc2V0Qm90dG9tIiwib2Zmc2V0TGVmdCIsInRocm90dGxlZFNjcm9sbCIsInJlYWR5U2Nyb2xsIiwid2luU2l6ZVNweSJdLCJtYXBwaW5ncyI6IkFBQUFBLFdBQUEsV0FFQSxHQUFBQyxHQUFBQyxFQUFBLHNCQUNBQyxFQUFBRCxFQUFBRSxNQUFBQyxLQUFBLGNBR0FKLEdBQUFLLEtBQUEsV0FDQSxHQUNBSCxJQURBRCxFQUFBLHNCQUNBQSxFQUFBRSxNQUFBQyxLQUFBLGVBRUFILEdBQUFFLE1BQUFHLE1BQUFDLE9BQUEs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QUEsT0FjQW5ILEVBQUF1RSxHQUFBeEIsVUFBQSxTQUFBK0IsR0FDQSxNQUFBOUUsR0FBQStDLFVBQUEvQyxFQUFBRSxNQUFBNEUsS0FHQVMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmb3JtX2ZvY3VzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGlucHV0ID0gJCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKSxcbiAgICAgICAgcGxhY2Vob2xkZXIgPSAkKHRoaXMpLmF0dHIoJ3BsYWNlaG9sZGVyJyk7XG5cbiAgICAvL2VudHJhIGVuIGNhZGEgaW5wdXQgeSBjb21wcnVlYmEgc2kgdGllbmUgYWxndW4gdmFsb3IgbyBlbCBwbGFjZWhvbGRlclxuICAgIGlucHV0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpbnB1dCA9ICQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyksXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9ICQodGhpcykuYXR0cigncGxhY2Vob2xkZXInKTtcblxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwIHx8IHBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5yZW1vdmVDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaW5wdXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoICE9PSAwIHx8IHBsYWNlaG9sZGVyICE9PSAgdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5yZW1vdmVDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvL2N1YW5kbyBlbCBpbnB1dCB0aWVuZSBlbCBmb2NvXG4gICAgaW5wdXQub24oJ2ZvY3VzaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpLmxlbmd0aCA+PSAwIHx8IHBsYWNlaG9sZGVyICE9PSAgdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5yZW1vdmVDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyQodGhpcykuc2libGluZ3MoJy5sYWJlbC1sYWJlbCcpLmFkZENsYXNzKCdmbG9hdGluZy1sYWJlbCcpO1xuICAgIH0pO1xuXG4gICAgaW5wdXQub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKS5sZW5ndGggIT09IDAgKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubGFiZWwtbGFiZWwnKS5hZGRDbGFzcygnZmxvYXRpbmctbGFiZWwnKTtcbiAgICAgICAgfWVsc2UgaWYgKCQodGhpcykuYXR0cigncGxhY2Vob2xkZXInKSAhPT0gIHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmxhYmVsLWxhYmVsJykuYWRkQ2xhc3MoJ2Zsb2F0aW5nLWxhYmVsJyk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5sYWJlbC1sYWJlbCcpLnJlbW92ZUNsYXNzKCdmbG9hdGluZy1sYWJlbCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxufVxuXG5mb3JtX2ZvY3VzKCk7XG4iLCJoZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBoZWFkZXJfc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiZWZvcmVUb3AgPSAwLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VG9wIDwgdGhpcy5iZWZvcmVUb3ApIHtcbiAgICAgICAgICAgICAgICAkKFwiaGVhZGVyXCIpLnNsaWRlRG93bigzMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKFwiaGVhZGVyXCIpLnNsaWRlVXAoMzAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmVmb3JlVG9wID0gY3VycmVudFRvcDtcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgYWN0aXZlTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnaGVhZGVyIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnaGVhZGVyIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIGhlYWRlcl9kcm9wZG93biA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCdoZWFkZXIgYScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5kcm9wZG93bk1lbnUnKS5zbGlkZVRvZ2dsZSgzMDApO1xuICAgICAgICB9KS5vbignZm9jdXNvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZHJvcGRvd25NZW51JykuZmFkZU91dCgzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYoZS5rZXlDb2RlID09PSAyNyl7XG4gICAgICAgICAgICAgICAgJCgnLmVubGFjZXMgYScpLnNpYmxpbmdzKCcuZHJvcGRvd25NZW51JykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoZWFkZXJfc2Nyb2xsKCk7XG4gICAgaGVhZGVyX2Ryb3Bkb3duKCk7XG4gICAgYWN0aXZlTWVudSgpO1xufVxuXG5oZWFkZXIoKTtcbiIsImluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9oZWFkZXJGaXhlZCgnI2hlYWRlcicpO1xuICAgIGRyb3Bkb3duTWVudSgnLmhlYWRlcl9fbmF2X19tZW51SGVhZGVyX19saXN0SXRlbV9fZW5sYWNlJyk7XG4gICAgc2xpZGVNZW51KCcjYnRuLW1lbnUnKTtcbiAgICBzY3JvbGxUb1RvcCgnLnNjcm9sbFRvcCcpO1xuICAgIGFjdGl2ZU1lbnUoJy5oZWFkZXJfX25hdl9fbWVudUhlYWRlcl9fbGlzdEl0ZW0nKTtcbiAgICBhY29yZGVvbignLmFjb3JkZW9uLXRpdGxlJywgJy5hY29yZGVvbi1wYXJhZ3JhcGgnKTtcbiAgICBsbGFtYWRhQWpheCgnLmxpLWl0ZW0nKTtcbiAgICBwZWdhbWVudG8oJy5jb250ZW50Zml4ZWQnKTtcbn0sXG5cbmhlYWRlckZpeGVkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB2YXIgaGVhZGVyID0gJ2hlYWRlcl9maXhlZCc7XG5cbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gMzApe1xuICAgICAgICAgICAgJChlbGVtZW50KS5hZGRDbGFzcyhoZWFkZXIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoaGVhZGVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSxcblxucGVnYW1lbnRvID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgICAgICBpZiAoVG9wID4gMzApIHtcbiAgICAgICAgICAgICQoZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICB9XG4gICAgfSlcbn0sXG5cbnNlZ3VpbWllbnRvID0gZnVuY3Rpb24gKGVsZW1lbnQsIGVsZW1lbnRfbGlzdGEpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdzY3JvbGxTcHk6ZW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGlkID0gJyMnICsgJCh0aGlzKS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICQoZWxlbWVudF9saXN0YSkuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGVubGFjZSA9ICQodGhpcykuY2hpbGRyZW4oJ2EnKSxcbiAgICAgICAgICAgICAgICBoYXNoID0gZW5sYWNlLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIGlmIChpZCA9PSBoYXNoKSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50X2xpc3RhKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICAkKGVsZW1lbnQpLm9uKCdzY3JvbGxTcHk6ZXhpdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaWQgPSAnIycgKyAkKHRoaXMpLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgJChlbGVtZW50X2xpc3RhKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgZW5sYWNlID0gJCh0aGlzKS5jaGlsZHJlbignYScpLFxuICAgICAgICAgICAgICAgIGhhc2ggPSBlbmxhY2UuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgaWYgKGlkID09IGhhc2gpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgICQoZWxlbWVudCkuc2Nyb2xsU3B5KCk7XG59LFxuXG5kcm9wZG93bk1lbnUgPSBmdW5jdGlvbiAoZWxlbW5ldCkge1xuICAgIHZhciBrZXlkb3duID0gJCgnLmhlYWRlcl9fbmF2X19tZW51SGVhZGVyX19saXN0SXRlbV9fZW5sYWNlJyk7XG5cbiAgICAkKGVsZW1uZXQpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmRyb3Bkb3duTWVudScpLnNsaWRlVG9nZ2xlKDMwMCk7XG4gICAgfSkub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZHJvcGRvd25NZW51JykuZmFkZU91dCgzMDApO1xuICAgIH0pO1xuXG4gICAgLy8gJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbiAoZSkge1xuICAgIC8vICAgICBpZihlLmtleUNvZGUgPT09IDI3KXtcbiAgICAvLyAgICAgICAgICQoa2V5ZG93bikuc2libGluZ3MoJy5kcm9wZG93bk1lbnUnKS5oaWRlKCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcbn0sXG5cbnNsaWRlTWVudSA9IGZ1bmN0aW9uIChzbGlkZU1lbnUsIGV4aXQpIHtcbiAgICAvL2FicmlyIG1lbnUgaXpxdWllcmRhIGljb25vIG1lbnVcbiAgICAkKHNsaWRlTWVudSkub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgIFx0dmFyIHNsaWRlb3V0TWVudSA9ICQoJy5lbmxhY2VzJyksXG4gICAgICAgICAgICBib2R5ID0gJCgnYm9keScpO1xuXG4gICAgXHRzbGlkZW91dE1lbnUudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xuXG4gICAgICAgIC8vYm9keS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JykuY3NzKHsncGFkZGluZy1sZWZ0JzogJzEzMHB4JywgJ3RyYW5zaXRpb24nOiAnYWxsIDAuM3MnfSk7XG4gICAgfSk7XG5cbiAgICAvL2NlcnJhciBtZW51IGVuIGxhIHhcbiAgICAkKGV4aXQpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNsaWRlb3V0TWVudSA9ICQoJyNidG4tbWVudScpO1xuXG4gICAgXHRzbGlkZW91dE1lbnUucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAkKCdib2R5JykuY3NzKHsncGFkZGluZy1sZWZ0JzogJzAnLCAndHJhbnNpdGlvbic6ICdhbGwgMC4zcyd9KTtcblxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PicpLmRldGFjaCgpO1xuXG4gICAgfSk7XG59LFxuXG5zY3JvbGxUb1RvcCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDgwICl7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLnNsaWRlRG93bigpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuICAgIH0pLFxuXG4gICAgJChlbGVtZW50KS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJ2JvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogMFxuICAgICAgICB9LCA0MDApO1xuICAgIH0pO1xufSxcblxuYWN0aXZlTWVudSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9KTtcbn0sXG5cbmFjb3JkZW9uID0gZnVuY3Rpb24gKGFjb3JkZW9uLCBhY29yZGVvbkhpam8gKSB7XG4gICAgJChhY29yZGVvbikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKGFjb3JkZW9uSGlqbykuc2xpZGVUb2dnbGUoMTAwKTtcbiAgICAgICAgLy9jaWVycmEgZWwgYWNvcmRlb24gYWJpZXJ0b1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCkuZmluZChhY29yZGVvbkhpam8pLnNsaWRlVXAoKTtcblxuICAgICAgICAvL2NhbWJpbyBkZSBpY29ub1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCkudG9nZ2xlQ2xhc3MoJ2ZhLWNoZXZyb24tZG93biBmYS1jaGV2cm9uLXVwJyk7XG4gICAgICAgIC8vY2FtYmlvIGRlIGljb25vIGN1YW5kbyBjaWVycmEgYWNvcmRlcm9uIGFiaWVydG9cbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnZmEtY2hldnJvbi11cCcpLmFkZENsYXNzKCdmYS1jaGV2cm9uLWRvd24nKTtcbiAgICB9KTtcbn0sXG5cblxuLy9MbGFtYWRhIGFqYXggcGFyYSBsYSBndWlhIGRlIGVzdGlsb1xubGxhbWFkYUFqYXggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIHZhciB1cmwgPSAkKHRoaXMpLmRhdGEoXCJocmVmXCIpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IHVybCArICcuaHRtbCcsXG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihhKXtcbiAgICAgICAgICAgICAgICAkKCcuY29udGVudF9jb250YWluZXInKS5odG1sKGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihhKXtcbiAgICAgICAgICAgICAgICAkKCcuY29udGVudF9jb250YWluZXInKS5odG1sKCc8aDQ+TG8gc2VudGltb3MsIHNlIHByb2R1am8gdW4gZXJyb3I8L2g0PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0pO1xufSxcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgaW5pdCgpO1xuICBcbn0pO1xuIiwiLy8gcmVtZW1iZXIgdG8gY2hhbmdlIGV2ZXJ5IGluc3RhbmNlIG9mIFwicGx1Z2luTmFtZVwiXG4vLyB0byB0aGUgbmFtZSBvZiB5b3VyIHBsdWdpbiFcbjsoZnVuY3Rpb24oJCkge1xuIFxuICAgIC8vIGhlcmUgaXQgZ29lcyFcbiAgICAkLmZuLnBsdWdpbk5hbWUgPSBmdW5jdGlvbihtZXRob2QpIHtcbiBcbiAgICAgICAgLy8gcGx1Z2luJ3MgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiBcbiAgICAgICAgICAgIGZvbzogJ2JhcidcbiBcbiAgICAgICAgfVxuIFxuICAgICAgICAvLyB0aGlzIHdpbGwgaG9sZCB0aGUgbWVyZ2VkIGRlZmF1bHQgYW5kIHVzZXItcHJvdmlkZWQgcHJvcGVydGllc1xuICAgICAgICAvLyB5b3Ugd2lsbCBoYXZlIHRvIGFjY2VzcyB0aGUgcGx1Z2luJ3MgcHJvcGVydGllcyB0aHJvdWdoIHRoaXMgb2JqZWN0IVxuICAgICAgICAvLyBzZXR0aW5ncy5wcm9wZXJ0eU5hbWVcbiAgICAgICAgdmFyIHNldHRpbmdzID0ge31cbiBcbiAgICAgICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICAgICAgLy8gdG8ga2VlcCB0aGUgJC5mbiBuYW1lc3BhY2UgdW5jbHV0dGVyZWQsIGNvbGxlY3QgYWxsXG4gICAgICAgIC8vIG9mIHRoZSBwbHVnaW4ncyBtZXRob2RzIGluIGFuIG9iamVjdCBsaXRlcmFsIGFuZCBjYWxsXG4gICAgICAgIC8vIHRoZW0gYnkgcGFzc2luZyB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIG1ldGhvZCB0byB0aGUgcGx1Z2luXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHB1YmxpYyBtZXRob2RzIGNhbiBiZSBjYWxsZWQgYXNcbiAgICAgICAgLy8gJChzZWxlY3RvcikucGx1Z2luTmFtZSgnbWV0aG9kTmFtZScsIGFyZzEsIGFyZzIsIC4uLiBhcmduKVxuICAgICAgICAvLyB3aGVyZSBcInBsdWdpbk5hbWVcIiBpcyB0aGUgbmFtZSBvZiB5b3VyIHBsdWdpbiBhbmQgXCJtZXRob2ROYW1lXCJcbiAgICAgICAgLy9pcyB0aGUgbmFtZSBvZiBhIGZ1bmN0aW9uIGF2YWlsYWJsZSBpblxuICAgICAgICAvLyB0aGUgXCJtZXRob2RzXCIgb2JqZWN0IGJlbG93O1xuICAgICAgICAvLyBhcmcxIC4uLiBhcmduIGFyZSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBtZXRob2RcbiAgICAgICAgLy9cbiAgICAgICAgLy8gb3IsIGZyb20gd2l0aGluIHRoZSBwbHVnaW4gaXRzZWxmLCBhc1xuICAgICAgICAvLyBtZXRob2RzLm1ldGhvZE5hbWUoYXJnMSwgYXJnMiwgLi4uIGFyZ24pXG4gICAgICAgIC8vIHdoZXJlIFwibWV0aG9kTmFtZVwiIGlzIHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24gYXZhaWxhYmxlXG4gICAgICAgIC8vIGluIHRoZSBcIm1ldGhvZHNcIiBvYmplY3QgYmVsb3dcbiAgICAgICAgdmFyIG1ldGhvZHMgPSB7XG4gXG4gICAgICAgICAgICAvLyB0aGlzIHRoZSBjb25zdHJ1Y3RvciBtZXRob2QgdGhhdCBnZXRzIGNhbGxlZCB3aGVuXG4gICAgICAgICAgICAvLyB0aGUgb2JqZWN0IGlzIGNyZWF0ZWRcbiAgICAgICAgICAgIGluaXQgOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gXG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgRE9NIGVsZW1lbnRzIHdlIGFyZVxuICAgICAgICAgICAgICAgIC8vIGF0dGFjaGluZyB0aGUgcGx1Z2luIHRvXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiBcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBsdWdpbidzIGZpbmFsIHByb3BlcnRpZXMgYXJlIHRoZSBtZXJnZWQgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdXNlci1wcm92aWRlZCBwcm9wZXJ0aWVzIChpZiBhbnkpXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFzIHRoZSBhZHZhbnRhZ2Ugb2Ygbm90IHBvbGx1dGluZyB0aGUgZGVmYXVsdHMsXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2luZyB0aGUgc2FtZSBpbnN0YWNlIHJlLXVzYWJsZSB3aXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBvcHRpb25zOyB0aGFua3MgdG8gU3RldmVuIEJsYWNrIGZvciBzdWdnZXN0aW5nIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpXG4gXG4gICAgICAgICAgICAgICAgICAgIC8vIFwiZWxlbWVudFwiIGhvbGRzIHRoZSBqUXVlcnkgb2JqZWN0IG9mIHRoZSBjdXJyZW50IERPTSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKTtcbiBcbiAgICAgICAgICAgICAgICAgICAgLy8gY29kZSBnb2VzIGhlcmVcbiBcbiAgICAgICAgICAgICAgICB9KTtcbiBcbiAgICAgICAgICAgIH0sXG4gXG4gICAgICAgICAgICAvLyBhIHB1YmxpYyBtZXRob2QuIGZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIG9ubHkgLSByZW1vdmUgaXQhXG4gICAgICAgICAgICBmb29fcHVibGljX21ldGhvZDogZnVuY3Rpb24oKSB7XG4gXG4gICAgICAgICAgICAgICAgLy8gY29kZSBnb2VzIGhlcmVcbiBcbiAgICAgICAgICAgIH1cbiBcbiAgICAgICAgfVxuIFxuICAgICAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICAgICAgLy8gdGhlc2UgbWV0aG9kcyBjYW4gYmUgY2FsbGVkIG9ubHkgZnJvbSB3aXRoaW4gdGhlIHBsdWdpblxuICAgICAgICAvL1xuICAgICAgICAvLyBwcml2YXRlIG1ldGhvZHMgY2FuIGJlIGNhbGxlZCBhc1xuICAgICAgICAvLyBoZWxwZXJzLm1ldGhvZE5hbWUoYXJnMSwgYXJnMiwgLi4uIGFyZ24pXG4gICAgICAgIC8vIHdoZXJlIFwibWV0aG9kTmFtZVwiIGlzIHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24gYXZhaWxhYmxlIGluXG4gICAgICAgIC8vIHRoZSBcImhlbHBlcnNcIiBvYmplY3QgYmVsb3c7IGFyZzEgLi4uIGFyZ24gYXJlIGFyZ3VtZW50cyB0b1xuICAgICAgICAvLyBiZSBwYXNzZWQgdG8gdGhlIG1ldGhvZFxuICAgICAgICB2YXIgaGVscGVycyA9IHtcbiBcbiAgICAgICAgICAgIC8vIGEgcHJpdmF0ZSBtZXRob2QuIGZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIG9ubHkgLSByZW1vdmUgaXQhXG4gICAgICAgICAgICBmb29fcHJpdmF0ZV9tZXRob2Q6IGZ1bmN0aW9uKCkge1xuIFxuICAgICAgICAgICAgICAgIC8vIGNvZGUgZ29lcyBoZXJlXG4gXG4gICAgICAgICAgICB9XG4gXG4gICAgICAgIH1cbiBcbiAgICAgICAgLy8gaWYgYSBtZXRob2QgYXMgdGhlIGdpdmVuIGFyZ3VtZW50IGV4aXN0c1xuICAgICAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XG4gXG4gICAgICAgICAgICAvLyBjYWxsIHRoZSByZXNwZWN0aXZlIG1ldGhvZFxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiBcbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIGdpdmVuIGFzIG1ldGhvZCBPUiBub3RoaW5nIGlzIGdpdmVuIGFzIGFyZ3VtZW50XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xuIFxuICAgICAgICAgICAgLy8gY2FsbCB0aGUgaW5pdGlhbGl6YXRpb24gbWV0aG9kXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gXG4gICAgICAgIC8vIG90aGVyd2lzZVxuICAgICAgICB9IGVsc2Uge1xuIFxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhbiBlcnJvclxuICAgICAgICAgICAgJC5lcnJvciggJ01ldGhvZCBcIicgKyAgbWV0aG9kICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHBsdWdpbk5hbWUgcGx1Z2luIScpO1xuIFxuICAgICAgICB9XG4gXG4gICAgfVxuIFxufSkoalF1ZXJ5KTsiLCIvLyByZW1lbWJlciB0byBjaGFuZ2UgZXZlcnkgaW5zdGFuY2Ugb2YgXCJwbHVnaW5OYW1lXCJcbi8vIHRvIHRoZSBuYW1lIG9mIHlvdXIgcGx1Z2luIVxuOyhmdW5jdGlvbigkKSB7XG5cblx0dmFyIGpXaW5kb3cgPSAkKHdpbmRvdyk7XG5cdHZhciBlbGVtZW50cyA9IFtdO1xuXHR2YXIgZWxlbWVudHNJblZpZXcgPSBbXTtcblx0dmFyIGlzU3B5aW5nID0gZmFsc2U7XG5cdHZhciB0aWNrcyA9IDA7XG5cdHZhciBvZmZzZXQgPSB7XG5cdFx0dG9wIDogMCxcblx0XHRyaWdodCA6IDAsXG5cdFx0Ym90dG9tIDogMCxcblx0XHRsZWZ0IDogMCxcblx0fVxuXG5cdC8qKlxuXHQgKiBGaW5kIGVsZW1lbnRzIHRoYXQgYXJlIHdpdGhpbiB0aGUgYm91bmRhcnlcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRvcFxuXHQgKiBAcGFyYW0ge251bWJlcn0gcmlnaHRcblx0ICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbVxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGVmdFxuXHQgKiBAcmV0dXJuIHtqUXVlcnl9XHRcdEEgY29sbGVjdGlvbiBvZiBlbGVtZW50c1xuXHQgKi9cblx0ZnVuY3Rpb24gZmluZEVsZW1lbnRzKHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCkge1xuXHRcdHZhciBoaXRzID0gJCgpO1xuXHRcdCQuZWFjaChlbGVtZW50cywgZnVuY3Rpb24oaSwgZWxlbWVudCkge1xuXHRcdFx0dmFyIGVsVG9wID0gZWxlbWVudC5vZmZzZXQoKS50b3AsXG5cdFx0XHRcdGVsTGVmdCA9IGVsZW1lbnQub2Zmc2V0KCkubGVmdCxcblx0XHRcdFx0ZWxSaWdodCA9IGVsTGVmdCArIGVsZW1lbnQud2lkdGgoKSxcblx0XHRcdFx0ZWxCb3R0b20gPSBlbFRvcCArIGVsZW1lbnQuaGVpZ2h0KCk7XG5cblx0XHRcdHZhciBpc0ludGVyc2VjdCA9ICEoZWxMZWZ0ID4gcmlnaHQgfHxcblx0XHRcdFx0ZWxSaWdodCA8IGxlZnQgfHxcblx0XHRcdFx0ZWxUb3AgPiBib3R0b20gfHxcblx0XHRcdFx0ZWxCb3R0b20gPCB0b3ApO1xuXG5cdFx0XHRpZiAoaXNJbnRlcnNlY3QpIHtcblx0XHRcdFx0aGl0cy5wdXNoKGVsZW1lbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGhpdHM7XG5cdH1cblxuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc2Nyb2xscyB0aGUgd2luZG93XG5cdCAqL1xuXHRmdW5jdGlvbiBvblNjcm9sbCgpIHtcblx0XHQvLyB1bmlxdWUgdGljayBpZFxuXHRcdCsrdGlja3M7XG5cblx0XHQvLyB2aWV3cG9ydCByZWN0YW5nbGVcblx0XHR2YXIgdG9wID0galdpbmRvdy5zY3JvbGxUb3AoKSxcblx0XHRcdGxlZnQgPSBqV2luZG93LnNjcm9sbExlZnQoKSxcblx0XHRcdHJpZ2h0ID0gbGVmdCArIGpXaW5kb3cud2lkdGgoKSxcblx0XHRcdGJvdHRvbSA9IHRvcCArIGpXaW5kb3cuaGVpZ2h0KCk7XG5cblx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggZWxlbWVudHMgYXJlIGluIHZpZXdcblx0XHR2YXIgaW50ZXJzZWN0aW9ucyA9IGZpbmRFbGVtZW50cyh0b3Arb2Zmc2V0LnRvcCwgcmlnaHQrb2Zmc2V0LnJpZ2h0LCBib3R0b20rb2Zmc2V0LmJvdHRvbSwgbGVmdCtvZmZzZXQubGVmdCk7XG5cdFx0JC5lYWNoKGludGVyc2VjdGlvbnMsIGZ1bmN0aW9uKGksIGVsZW1lbnQpIHtcblx0XHRcdHZhciBsYXN0VGljayA9IGVsZW1lbnQuZGF0YSgnc2Nyb2xsU3B5OnRpY2tzJyk7XG5cdFx0XHRpZiAodHlwZW9mIGxhc3RUaWNrICE9ICdudW1iZXInKSB7XG5cdFx0XHRcdC8vIGVudGVyZWQgaW50byB2aWV3XG5cdFx0XHRcdGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ3Njcm9sbFNweTplbnRlcicpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB1cGRhdGUgdGljayBpZFxuXHRcdFx0ZWxlbWVudC5kYXRhKCdzY3JvbGxTcHk6dGlja3MnLCB0aWNrcyk7XG5cdFx0fSk7XG5cblx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggZWxlbWVudHMgYXJlIG5vIGxvbmdlciBpbiB2aWV3XG5cdFx0JC5lYWNoKGVsZW1lbnRzSW5WaWV3LCBmdW5jdGlvbihpLCBlbGVtZW50KSB7XG5cdFx0XHR2YXIgbGFzdFRpY2sgPSBlbGVtZW50LmRhdGEoJ3Njcm9sbFNweTp0aWNrcycpO1xuXHRcdFx0aWYgKHR5cGVvZiBsYXN0VGljayA9PSAnbnVtYmVyJyAmJiBsYXN0VGljayAhPT0gdGlja3MpIHtcblx0XHRcdFx0Ly8gZXhpdGVkIGZyb20gdmlld1xuXHRcdFx0XHRlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCdzY3JvbGxTcHk6ZXhpdCcpO1xuXHRcdFx0XHRlbGVtZW50LmRhdGEoJ3Njcm9sbFNweTp0aWNrcycsIG51bGwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gcmVtZW1iZXIgZWxlbWVudHMgaW4gdmlldyBmb3IgbmV4dCB0aWNrXG5cdFx0ZWxlbWVudHNJblZpZXcgPSBpbnRlcnNlY3Rpb25zO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHdpbmRvdyBpcyByZXNpemVkXG5cdCovXG5cdGZ1bmN0aW9uIG9uV2luU2l6ZSgpIHtcblx0XHRqV2luZG93LnRyaWdnZXIoJ3Njcm9sbFNweTp3aW5TaXplJyk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IHRpbWUgaW4gbXNcbiAgICogQGxpY2Vuc2UgaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9tYXN0ZXIvTElDRU5TRVxuXHQgKiBAdHlwZSB7ZnVuY3Rpb259XG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdHZhciBnZXRUaW1lID0gKERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2Vcblx0ICogZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG5cdCAqIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcblx0ICogYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3Ncblx0ICogYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5cdCAqIEBsaWNlbnNlIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvbWFzdGVyL0xJQ0VOU0Vcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1xuXHQgKiBAcGFyYW0ge251bWJlcn0gd2FpdFxuXHQgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0ZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuXHRcdHZhciBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG5cdFx0dmFyIHRpbWVvdXQgPSBudWxsO1xuXHRcdHZhciBwcmV2aW91cyA9IDA7XG5cdFx0b3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcblx0XHR2YXIgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogZ2V0VGltZSgpO1xuXHRcdFx0dGltZW91dCA9IG51bGw7XG5cdFx0XHRyZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHRcdFx0Y29udGV4dCA9IGFyZ3MgPSBudWxsO1xuXHRcdH07XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBub3cgPSBnZXRUaW1lKCk7XG5cdFx0XHRpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuXHRcdFx0dmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuXHRcdFx0Y29udGV4dCA9IHRoaXM7XG5cdFx0XHRhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0aWYgKHJlbWFpbmluZyA8PSAwKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHRcdFx0dGltZW91dCA9IG51bGw7XG5cdFx0XHRcdHByZXZpb3VzID0gbm93O1xuXHRcdFx0XHRyZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHRcdFx0XHRjb250ZXh0ID0gYXJncyA9IG51bGw7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG5cdFx0XHRcdHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFbmFibGVzIFNjcm9sbFNweSB1c2luZyBhIHNlbGVjdG9yXG5cdCAqIEBwYXJhbSB7alF1ZXJ5fHN0cmluZ30gc2VsZWN0b3IgIFRoZSBlbGVtZW50cyBjb2xsZWN0aW9uLCBvciBhIHNlbGVjdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1x0T3B0aW9uYWwuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3R0bGUgOiBudW1iZXIgLT4gc2Nyb2xsc3B5IHRocm90dGxpbmcuIERlZmF1bHQ6IDEwMCBtc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9mZnNldFRvcCA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSB0b3AuIERlZmF1bHQ6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvZmZzZXRSaWdodCA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSByaWdodC4gRGVmYXVsdDogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9mZnNldEJvdHRvbSA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSBib3R0b20uIERlZmF1bHQ6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvZmZzZXRMZWZ0IDogbnVtYmVyIC0+IG9mZnNldCBmcm9tIGxlZnQuIERlZmF1bHQ6IDBcblx0ICogQHJldHVybnMge2pRdWVyeX1cblx0ICovXG5cdCQuc2Nyb2xsU3B5ID0gZnVuY3Rpb24oc2VsZWN0b3IsIG9wdGlvbnMpIHtcblx0XHRzZWxlY3RvciA9ICQoc2VsZWN0b3IpO1xuXHRcdHNlbGVjdG9yLmVhY2goZnVuY3Rpb24oaSwgZWxlbWVudCkge1xuXHRcdFx0ZWxlbWVudHMucHVzaCgkKGVsZW1lbnQpKTtcblx0XHR9KTtcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7XG5cdFx0XHR0aHJvdHRsZTogMTAwXG5cdFx0fTtcblxuXHRcdG9mZnNldC50b3AgPSBvcHRpb25zLm9mZnNldFRvcCB8fCAwO1xuXHRcdG9mZnNldC5yaWdodCA9IG9wdGlvbnMub2Zmc2V0UmlnaHQgfHwgMDtcblx0XHRvZmZzZXQuYm90dG9tID0gb3B0aW9ucy5vZmZzZXRCb3R0b20gfHwgMDtcblx0XHRvZmZzZXQubGVmdCA9IG9wdGlvbnMub2Zmc2V0TGVmdCB8fCAwO1xuXG5cdFx0dmFyIHRocm90dGxlZFNjcm9sbCA9IHRocm90dGxlKG9uU2Nyb2xsLCBvcHRpb25zLnRocm90dGxlIHx8IDEwMCk7XG5cdFx0dmFyIHJlYWR5U2Nyb2xsID0gZnVuY3Rpb24oKXtcblx0XHRcdCQoZG9jdW1lbnQpLnJlYWR5KHRocm90dGxlZFNjcm9sbCk7XG5cdFx0fTtcblxuXHRcdGlmICghaXNTcHlpbmcpIHtcblx0XHRcdGpXaW5kb3cub24oJ3Njcm9sbCcsIHJlYWR5U2Nyb2xsKTtcblx0XHRcdGpXaW5kb3cub24oJ3Jlc2l6ZScsIHJlYWR5U2Nyb2xsKTtcblx0XHRcdGlzU3B5aW5nID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBwZXJmb3JtIGEgc2NhbiBvbmNlLCBhZnRlciBjdXJyZW50IGV4ZWN1dGlvbiBjb250ZXh0LCBhbmQgYWZ0ZXIgZG9tIGlzIHJlYWR5XG5cdFx0c2V0VGltZW91dChyZWFkeVNjcm9sbCwgMCk7XG5cblx0XHRyZXR1cm4gc2VsZWN0b3I7XG5cdH07XG5cblx0LyoqXG5cdCAqIExpc3RlbiBmb3Igd2luZG93IHJlc2l6ZSBldmVudHNcblx0ICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zXHRcdFx0XHRcdFx0T3B0aW9uYWwuIFNldCB7IHRocm90dGxlOiBudW1iZXIgfSB0byBjaGFuZ2UgdGhyb3R0bGluZy4gRGVmYXVsdDogMTAwIG1zXG5cdCAqIEByZXR1cm5zIHtqUXVlcnl9XHRcdCQod2luZG93KVxuXHQgKi9cblx0JC53aW5TaXplU3B5ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdCQud2luU2l6ZVNweSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4galdpbmRvdzsgfTsgLy8gbG9jayBmcm9tIG11bHRpcGxlIGNhbGxzXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuXHRcdFx0dGhyb3R0bGU6IDEwMFxuXHRcdH07XG5cdFx0cmV0dXJuIGpXaW5kb3cub24oJ3Jlc2l6ZScsIHRocm90dGxlKG9uV2luU2l6ZSwgb3B0aW9ucy50aHJvdHRsZSB8fCAxMDApKTtcblx0fTtcblxuXHQvKipcblx0ICogRW5hYmxlcyBTY3JvbGxTcHkgb24gYSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzXG5cdCAqIGUuZy4gJCgnLnNjcm9sbFNweScpLnNjcm9sbFNweSgpXG5cdCAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1x0T3B0aW9uYWwuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3R0bGUgOiBudW1iZXIgLT4gc2Nyb2xsc3B5IHRocm90dGxpbmcuIERlZmF1bHQ6IDEwMCBtc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9mZnNldFRvcCA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSB0b3AuIERlZmF1bHQ6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvZmZzZXRSaWdodCA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSByaWdodC4gRGVmYXVsdDogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9mZnNldEJvdHRvbSA6IG51bWJlciAtPiBvZmZzZXQgZnJvbSBib3R0b20uIERlZmF1bHQ6IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvZmZzZXRMZWZ0IDogbnVtYmVyIC0+IG9mZnNldCBmcm9tIGxlZnQuIERlZmF1bHQ6IDBcblx0ICogQHJldHVybnMge2pRdWVyeX1cblx0ICovXG5cdCQuZm4uc2Nyb2xsU3B5ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiAkLnNjcm9sbFNweSgkKHRoaXMpLCBvcHRpb25zKTtcblx0fTtcblxufSkoalF1ZXJ5KTsiXX0=
